<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>User Settings</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="settings-panel">
        <div class="panel-content">
            <!-- ALL of your existing settings items go INSIDE here -->
            <h2>Settings</h2>
            <div class="conversation-controls">
                <!-- This div groups the buttons so we can space them as a unit -->
                <div class="panel-button-group">
                    <button id="save-conversation-button">Save Conversation</button>
                    <button id="load-conversation-button" class="secondary-button">Load Conversation</button>
                </div>
                <input type="file" id="load-conversation-input" style="display: none;" accept=".json,application/json">
            </div>
            
            <div class="setting-item">
                <label for="slider-font-size">Font Size</label>
                <input type="range" id="slider-font-size" min="10" max="24" value="16">
                <span id="font-size-value">16px</span>
            </div>

            <div class="setting-item">
                <label for="llm-provider">LLM Provider</label>
                <select id="llm-provider">
                    <option value="litellm">LiteLLM (OpenAI Compatible)</option>
                    <option value="lmstudio">LMStudio (OpenAI Compatible)</option>
                    <option value="ollama">Ollama (Direct - OpenAI Compatible)</option>
                    <option value="openai-direct">OpenAI (Direct API)</option>
                    <option value="anthropic-direct">Anthropic (Direct API)</option>
                    <option value="google-direct">Google AI Studio (Direct API)</option>
                </select>
            </div>

            <div class="setting-item">
                <label for="llm-api-url">LLM API Base URL</label>
                <input type="text" id="llm-api-url" placeholder="e.g., http://localhost:4000">
            </div>
            <div class="setting-item" id="model-identifier-item">
                <label for="llm-model-identifier">LLM Model Identifier</label>
                <select id="llm-model-identifier">
                    <option value="gemma3">gemma3</option>
                    <option value="gpt-4.1-mini">gpt-4.1-mini</option>
                    <option value="gpt-4.1">gpt-4.1</option>
                    <option value="gpt-4.5">gpt-4.5</option>
                    <option value="o3-pro">o3-pro</option>
                    <option value="cydonia">cydonia</option>
                    <option value="cydonia3">cydonia3</option>
                    <option value="claude3.7">claude3.7</option>
                    <option value="claude4">claude4</option>
                    <option value="gemini2.5-flash">gemini2.5-flash</option>
                    <option value="Dark Muse">Dark Muse</option>
                </select>
            </div>
            <div class="setting-item" id="api-key-item">
                <label for="llm-api-key">LLM API Key </label>
                <input type="password" id="llm-api-key" placeholder="Enter API Key if required">
            </div>

            <!-- OpenAI Direct API Settings -->
            <div class="openai-direct-settings" style="display: none;">
                <div class="setting-item">
                    <label for="openai-model-identifier">OpenAI Model</label>
                    <select id="openai-model-identifier">
                        <option value="gpt-4.1">GPT-4.1</option>
                        <option value="gpt-4.1-mini">GPT-4.1 Mini</option>
                        <option value="gpt-4.1-nano">GPT-4.1 Nano</option>
                        <option value="gpt-4.5">GPT-4.5</option>
                        <option value="o3-mini">o3-mini</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label for="openai-api-key">OpenAI API Key</label>
                    <input type="password" id="openai-api-key" placeholder="Enter OpenAI API Key">
                </div>
            </div>

            <!-- Anthropic Direct API Settings -->
            <div class="anthropic-direct-settings" style="display: none;">
                <div class="setting-item">
                    <label for="anthropic-model-identifier">Anthropic Model</label>
                    <select id="anthropic-model-identifier">
                        <option value="claude-opus-4-20250514">Claude Opus 4</option>
                        <option value="claude-sonnet-4-20250514">Claude Sonnet 4</option>
                        <option value="claude-3-7-sonnet-20250219">Claude 3.7 Sonnet</option>
                        <option value="claude-3-5-sonnet-latest">Claude 3.5 Sonnet</option>
                        <option value="claude-3-5-haiku-latest">Claude 3.5 Haiku</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label for="anthropic-api-key">Anthropic API Key</label>
                    <input type="password" id="anthropic-api-key" placeholder="Enter Anthropic API Key">
                </div>
            </div>

            <!-- Google AI Studio Direct API Settings -->
            <div class="google-direct-settings" style="display: none;">
                <div class="setting-item">
                    <label for="google-model-identifier">Google AI Model</label>
                    <select id="google-model-identifier">
                        <option value="gemini-2.5-pro">Gemini 2.5 Pro</option>
                        <option value="gemini-2.5-flash">Gemini 2.5 Flash</option>
                        <option value="gemini-2.5-flash-lite">Gemini 2.5 Flash Lite</option>
                        <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                        <option value="gemini-2.0-flash-lite">Gemini 2.0 Flash Lite</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label for="google-api-key">Google AI API Key</label>
                    <input type="password" id="google-api-key" placeholder="Enter Google AI Studio API Key">
                </div>
            </div>

            <!-- MCP Settings -->
            <details class="settings-group">
                <summary class="settings-group-header">Sequential Thinking MCP Server</summary>
                
                <div class="setting-item">
                    <label for="mcp-enabled">Enable Sequential Thinking</label>
                    <input type="checkbox" id="mcp-enabled" style="width: auto; margin-left: 10px;">
                    <span style="margin-left: 10px; font-size: 0.9em; color: #888;">
                        Enable enhanced reasoning capabilities
                    </span>
                </div>
                
                <div class="setting-item">
                    <label for="mcp-server-url">MCP Server URL</label>
                    <input type="text" id="mcp-server-url" placeholder="http://localhost:3001">
                    <span style="font-size: 0.9em; color: #888; display: block; margin-top: 5px;">
                        URL for the MCP HTTP server (if using HTTP mode)
                    </span>
                </div>
                
                <div class="setting-item">
                    <p style="font-size: 0.9em; color: #888; margin: 10px 0;">
                        <strong>Available Tools:</strong><br>
                        • <strong>Break Down Problem:</strong> Analyze complex problems step-by-step<br>
                        • <strong>Sequential Reasoning:</strong> Apply logical reasoning to questions<br>
                        • <strong>Step-by-Step Analysis:</strong> Systematic analysis of topics<br>
                        • <strong>Logical Chain:</strong> Create reasoning chains from premise to conclusion
                    </p>
                </div>
                
                <div class="setting-item">
                    <p style="font-size: 0.9em; color: #888; margin: 10px 0;">
                        <strong>Usage Examples:</strong><br>
                        • "Break down the problem of climate change"<br>
                        • "Reason through why the sky is blue"<br>
                        • "Analyze the benefits of renewable energy"<br>
                        • "Create a logical chain from fossil fuels to climate change"
                    </p>
                </div>
            </details>

            <!-- Web Search Settings -->
            <details class="settings-group">
                <summary class="settings-group-header">Web Search Settings</summary>
                
                <div class="setting-item">
                    <label for="search-enabled">Enable Web Search</label>
                    <input type="checkbox" id="search-enabled" style="width: auto; margin-left: 10px;">
                    <span style="margin-left: 10px; font-size: 0.9em; color: #888;">
                        Enable web search capabilities through MCP server
                    </span>
                </div>
                
                <div class="setting-item">
                    <label for="search-provider">Search Provider</label>
                    <select id="search-provider">
                        <option value="brave">Brave Search (Recommended)</option>
                        <option value="duckduckgo">DuckDuckGo</option>
                        <option value="google">Google Custom Search</option>
                        <option value="bing">Bing Search</option>
                    </select>
                </div>
                
                <div class="setting-item">
                    <label for="search-api-key">API Key</label>
                    <input type="password" id="search-api-key" placeholder="Enter search API key">
                    <span style="font-size: 0.9em; color: #888; display: block; margin-top: 5px;">
                        Provider-specific API key for search requests
                    </span>
                </div>
                
                <div class="setting-item">
                    <label for="search-results-limit">Results Limit</label>
                    <select id="search-results-limit">
                        <option value="5">5 results</option>
                        <option value="10" selected>10 results</option>
                        <option value="20">20 results</option>
                    </select>
                </div>
                
                <div class="setting-item">
                    <label for="search-auto-summarize">Auto-Summarize Results</label>
                    <input type="checkbox" id="search-auto-summarize" checked style="width: auto; margin-left: 10px;">
                    <span style="margin-left: 10px; font-size: 0.9em; color: #888;">
                        Automatically summarize search results for better context
                    </span>
                </div>
                
                <div class="setting-item">
                    <label for="search-time-filter">Time Filter</label>
                    <select id="search-time-filter">
                        <option value="any">Any time</option>
                        <option value="day">Past 24 hours</option>
                        <option value="week">Past week</option>
                        <option value="month">Past month</option>
                    </select>
                </div>
                
                <div class="setting-item">
                    <p style="font-size: 0.9em; color: #888; margin: 10px 0;">
                        <strong>Usage Examples:</strong><br>
                        • "Search for recent news about AI developments"<br>
                        • "Find information about React 18 features"<br>
                        • "Search and summarize climate change reports"<br>
                        • "Look up current cryptocurrency prices"
                    </p>
                </div>
            </details>

            <!-- Voice Settings ---->
            <details class="settings-group">
                <summary class="settings-group-header">Voice Settings</summary>
                
                <div class="setting-item">
                    <label for="select-tts-voice">TTS Voice</label>
                    <select id="select-tts-voice">
                        <option value="AUTO">Auto (Default)</option>
                        <!-- US Female Voices -->
                        <option value="Ava">Ava (US Female)</option>
                        <option value="Jenny">Jenny (US Female)</option>
                        <option value="Emma">Emma (US Female)</option>
                        <option value="Sara">Sara (US Female)</option>
                        <option value="Aria">Aria (US Female)</option>
                        <option value="Ashley">Ashley (US Female)</option>
                        <!-- US Male Voices -->
                        <option value="Andrew">Andrew (US Male)</option>
                        <option value="Brian">Brian (US Male)</option>
                        <option value="Guy">Guy (US Male)</option>
                        <option value="Jason">Jason (US Male)</option>
                        <option value="Tony">Tony (US Male)</option>
                        <!-- UK Female Voices -->
                        <option value="Sonia" selected>Sonia (UK Female)</option>
                        <option value="Libby">Libby (UK Female)</option>
                        <option value="Olivia">Olivia (UK Female)</option>
                        <option value="Hollie">Hollie (UK Female)</option>
                        <!-- UK Male Voices -->
                        <option value="Ryan">Ryan (UK Male)</option>
                        <option value="Alfie">Alfie (UK Male)</option>
                        <option value="Oliver">Oliver (UK Male)</option>
                        <!-- AU Female Voices -->
                        <option value="Natasha">Natasha (AU Female)</option>
                        <option value="Freya">Freya (AU Female)</option>
                        <!-- AU Male Voices -->
                        <option value="William">William (AU Male)</option>
                        <option value="Neil">Neil (AU Male)</option>
                        <!-- CA Voices -->
                        <option value="Clara">Clara (CA Female)</option>
                        <option value="Liam">Liam (CA Male)</option>
                    </select>
                </div>
                
                <div class="setting-item">
                    <label for="slider-voice-speed">Voice Speed</label>
                    <input type="range" id="slider-voice-speed" min="0.1" max="2.0" step="0.1" value="1.0">
                    <span id="voice-speed-value">1.0x</span>
                </div>
                
                <div class="setting-item">
                    <label for="slider-voice-pitch">Voice Pitch</label>
                    <input type="range" id="slider-voice-pitch" min="0.5" max="2.0" step="0.1" value="1.0">
                    <span id="voice-pitch-value">1.0</span>
                </div>
                
                <div class="setting-item">
                    <label for="azure-api-key">Azure Speech API Key</label>
                    <input type="password" id="azure-api-key" placeholder="Enter Azure Speech Services API key">
                    <span style="font-size: 0.9em; color: #888; display: block; margin-top: 5px;">
                        Optional: For high-quality neural voices across all platforms
                    </span>
                </div>
                
                <div class="setting-item">
                    <label for="azure-region">Azure Region</label>
                    <select id="azure-region">
                        <option value="eastus">East US</option>
                        <option value="westus">West US</option>
                        <option value="westus2">West US 2</option>
                        <option value="centralus">Central US</option>
                        <option value="northeurope">North Europe</option>
                        <option value="westeurope">West Europe</option>
                        <option value="uksouth">UK South</option>
                        <option value="southeastasia">Southeast Asia</option>
                        <option value="eastasia">East Asia</option>
                        <option value="australiaeast">Australia East</option>
                    </select>
                </div>
                
                <div class="setting-item">
                    <p style="font-size: 0.9em; color: #888; margin: 10px 0;">
                        <strong>Voice Settings:</strong><br>
                        • <strong>Speed:</strong> Controls how fast text is spoken (0.1x - 2.0x)<br>
                        • <strong>Pitch:</strong> Controls voice tone/frequency (0.5 - 2.0)<br>
                        • <strong>Azure TTS:</strong> High-quality voices using Microsoft servers<br>
                        • <strong>Privacy:</strong> Text is sent to Microsoft for speech synthesis
                    </p>
                </div>
            </details>

            <!-- All image settings are now grouped in this collapsible section -->
            <details class="settings-group">
                <summary class="settings-group-header">Image Generation Settings</summary>

                <div class="setting-item">
                    <label for="image-provider">Image Provider</label>
                    <select id="image-provider">
                        <option value="a1111">Local A1111</option>
                        <option value="openai">OpenAI (GPT-image-1)</option>
                    </select>
                </div>

                <!-- A1111-specific settings -->
                <div class="a1111-settings">
                    <div class="setting-item">
                        <label for="image-api-url">A1111 API URL</label>
                        <input type="text" id="image-api-url" placeholder="e.g., http://localhost:7860">
                    </div>
                    <div class="setting-item">
                        <label for="image-width">Width (px)</label>
                        <input type="number" id="image-width" min="256" max="2048" step="64" value="1024">
                    </div>
                    <div class="setting-item">
                        <label for="image-height">Height (px)</label>
                        <input type="number" id="image-height" min="256" max="2048" step="64" value="1536">
                    </div>
                    <div class="setting-item">
                        <label for="image-steps">Steps</label>
                        <input type="number" id="image-steps" min="1" max="100" step="1" value="20">
                    </div>
                    <div class="setting-item">
                        <label for="image-cfg-scale">CFG Scale</label>
                        <input type="number" id="image-cfg-scale" min="1" max="20" step="0.1" value="1.4">
                    </div>
                    <div class="setting-item">
                        <label for="image-sampler">Sampler</label>
                        <select id="image-sampler">
                            <option value="Euler a" selected>Euler a</option>
                            <option value="DPM++ 2M">DPM++ 2M</option>
                            <option value="LCM">LCM</option>
                        </select>
                    </div>
                </div>

                <!-- OpenAI-specific settings -->
                <div class="openai-settings" style="display: none;">
                    <div class="setting-item">
                        <label for="openai-image-api-key">OpenAI API Key</label>
                        <input type="password" id="openai-image-api-key" placeholder="Enter OpenAI API Key">
                    </div>
                    <div class="setting-item">
                        <label for="image-size">Image Size</label>
                        <select id="image-size">
                            <option value="auto" selected>Auto</option>
                            <option value="1024x1024">Square (1024x1024)</option>
                            <option value="1536x1024">Landscape (1536x1024)</option>
                            <option value="1024x1536">Portrait (1024x1536)</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="openai-quality">Quality</label>
                        <select id="openai-quality">
                            <option value="auto" selected>Auto</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="openai-output-format">Output Format</label>
                        <select id="openai-output-format">
                            <option value="png" selected>PNG</option>
                            <option value="jpeg">JPEG</option>
                            <option value="webp">WebP</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="openai-background">Background</label>
                        <select id="openai-background">
                            <option value="auto" selected>Auto</option>
                            <option value="opaque">Opaque</option>
                            <option value="transparent">Transparent</option>
                        </select>
                    </div>
                </div>
            </details>

        </div>
    </div>
</body>
</html>